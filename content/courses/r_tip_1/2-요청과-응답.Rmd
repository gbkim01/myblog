---
title: 2. 요청과 응답
author: 김강배
date: '2020-08-03'
slug: 2-요청과-응답
linktitle: 2. 요청과 응답
lastmod: '2020-08-03T15:13:02Z'
draft: yes
type: docs
weight: 2
menu:
  r_tip_1:
    parent: Contents
    weight: 2
output:
  blogdown::html_page:
    toc: true
    fig_caption: yes
    df_print: kable
    fig_height: 6
    fig_width: 10
---

```{r include=FALSE}
knitr::opts_chunk$set(comment = ">>")
```

---


```{r figs1, fig.align='center', fig.cap="Request와 Response^[출처 : https://medium.com/@rohitpatil97/http-request-http-response-context-and-headers-part-iii-5c37bd4cb06b]", echo=FALSE}
knitr::include_graphics("https://miro.medium.com/max/875/1*8-fT6K1o6nHiBRxKppcqOg.png")
```

---

본격적으로 크롤링을 하기 전에 웹브라우저가 하는 역할을 살펴봅시다. 

IE, 크롬, 파이어폭스 같은 웹브라우저는 **1. 서버에 원하는 정보를 요청**하고 **2. 서버로 부터 원하는 정보(HTML 형식)를 내려받아**, **3. HTML 문서를 일반 문서형태로 전환**해서 보여주는 기능을 수행합니다. 좀 더 풀어서 설명하면 인터넷을 할 때, 브라우저의 주소창에 주소를 입력하고, 엔터를 치거나 마우스를 클릭하는 행위를 통해 서버에 정보를 요청하는 신호를 보내고, 눈에 보이진 않지만 인터넷 연결망의 저편에 있는 서버로 부터 요청한 정보를 내려받으면 브라우저가 알아서 문서로 변환해 보여주는 것입니다. 우리가 인터넷을 하는 대부분의 행위가 이런 방식으로 진행됩니다.  

이 때, 정보를 서버에 요청하는 것을 Request(요청)라 하고, 서버로 부터 정보를 내려받는 것을 Response(응답)이라고 합니다. 크롤링을 할 때는 웹브라우저 대신에 R과 Rstudio가 이 이 두 가지 기능^[크롤링에서 HTML문서를 일반문서로 변환하는 과정은 필요치 않습니다. 대신 HTML 문서를 분석(parsing)하여 원하는 정보를 뽑아내는 과정이 필요한데 이 부분은 다음 글에서 설명하겠습니다.]을 수행하게 됩니다. 

---

## **Request(요청)**

인터넷의 Request(요청)은 HTTP 전송 프로토콜을 따릅니다. 따라서 R에서도 마찬가지로 HTTP 전송 규격에 맞게 요청 신호를 서버에 보내야 합니다. HTTP 요청 메서드는 다음의 Figure\@ref(fig:figs2)에서와 같이 4~5 가지로 구분할 수 있는데, 우리가 꼭 알아야 할 것은 **GET**과 **POST**입니다^[경험상 GET과 POST 외의 다른 요청 메서드는 보지 못했습니다.].  

```{r figs2, fig.align='center', fig.cap="HTTP 메서드 종류^[출처 : https://medium.com/@NikiMichaelsonqiv/http-methods-get-vs-post-b3ffb60c7f55]", echo=FALSE}
knitr::include_graphics("https://miro.medium.com/max/875/1*xJEUm1hUvxppvcjY14IKQA.jpeg")
```

### GET 요청

#### GET 요청의 예

### POST 요청

#### POST 요청의 예
```
GET vs POST

HTTP POST 요청은 클라이언트에서 서버로 전송할 때 추가적인 데이터를 body에 포함할 수 있다. 

반면에 GET 요청은 모든 필요한 데이터를 URL에 포함하여 요청한다. 

HTML의 <form>태그에 method="POST" 또는 method="GET"(기본값)을 모두 사용할 수 있다.

만약에 GET 메소드를 사용하면 모든 form data는 URL로 인코딩되어 action URL에 query string parameters로 전달된다. 

POST 메소드를 사용하면 form data는 HTTP request의 message body에 나타날 것이다.

출처: https://im-developer.tistory.com/166 [Code Playground]
```


---

## **Response(응답)**

```{r figs3, fig.align='center', fig.cap="HTTP 상태 코드^[출처 : https://codeteddy.com/2017/06/06/create-api-with-asp-net-core-day-3-working-with-http-status-codes-in-asp-net-core-api/]", echo=FALSE}
knitr::include_graphics("https://i1.wp.com/csharpcorner.mindcrackerinc.netdna-cdn.com/article/create-api-with-asp-net-core-day-three-working-with-http-status-codes-in-asp/Images/image002.jpg?zoom=2")
```


준비중